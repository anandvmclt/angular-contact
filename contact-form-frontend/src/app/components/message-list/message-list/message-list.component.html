<h3>Message List</h3>
<br />
<div>
  @if (showAlert){
  <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 1;">
   <div class="alert alert-danger">
     <p>Are you sure you want to delete this message?</p>
     <button (click)="confirm()">Yes</button>
     <button (click)="cancel()">No</button>
   </div>
  </div>
  }
  @if (edit&&editMessage){
    <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; z-index: 1;">
     <div class="alert bg-light" style="width: 500px; ">
       <app-contact-form (onEditClose)="onEditClose($event)"  [message]="editMessage"></app-contact-form>
     </div>
    </div>
  }
  <table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">ID</th>
        <th scope="col">Name</th>
        <th scope="col">Email</th>
        <th scope="col">Mobile</th>
        <th scope="col">Message</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let message of messages">
        <th scope="row">{{ message._id }}</th>
        <td>{{ message.name }}</td>
        <td>{{ message.email }}</td>
        <td>{{ message.mobile }}</td>
        <td>{{ message.message }}</td>
        <td>
          <svg
            style="cursor: pointer;"
            (click)="onEditMessage(message)"
            fill="none"
            height="24"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            viewBox="0 0 24 24"
            width="24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
            />
            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
          </svg>
          <svg
            class="ml-2"
            style="cursor: pointer;"
            (click)="deleteMessage(message._id)"
            xmlns="http://www.w3.org/2000/svg"
            x="0px"
            y="0px"
            width="24"
            height="24"
            viewBox="0 0 24 24"
          >
            <path
              d="M 10.806641 2 C 10.289641 2 9.7956875 2.2043125 9.4296875 2.5703125 L 9 3 L 4 3 A 1.0001 1.0001 0 1 0 4 5 L 20 5 A 1.0001 1.0001 0 1 0 20 3 L 15 3 L 14.570312 2.5703125 C 14.205312 2.2043125 13.710359 2 13.193359 2 L 10.806641 2 z M 4.3652344 7 L 5.8925781 20.263672 C 6.0245781 21.253672 6.877 22 7.875 22 L 16.123047 22 C 17.121047 22 17.974422 21.254859 18.107422 20.255859 L 19.634766 7 L 4.3652344 7 z"
            ></path>
          </svg>
        </td>
      </tr>
    </tbody>
  </table>
</div>
